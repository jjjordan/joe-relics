/* TERMCAP/TERMINFO header file
   Copyright (C) 1991 Joseph H. Allen

This file is part of JOE (Joe's Own Editor)

JOE is free software; you can redistribute it and/or modify it under the terms
of the GNU General Public License as published by the Free Software
Foundation; either version 1, or (at your option) any later version.  

JOE is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  

You should have received a copy of the GNU General Public License
along with JOE; see the file COPYING.  If not, write to
the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */

#define CAPEP 0			/* Flag capabilities */
#define CAPHD 1
#define CAPLC 2
#define CAPMT 3
#define CAPNL 4
#define CAPOP 5
#define CAPUC 6
#define CAPam 7
#define CAPbs 8
#define CAPbw 9
#define CAPca 10
#define CAPda 11
#define CAPdb 12
#define CAPeo 13
#define CAPgn 14
#define CAPhc 15
#define CAPhs 16
#define CAPhz 17
#define CAPin 18
#define CAPkm 19
#define CAPmi 20
#define CAPms 21
#define CAPmt 22
#define CAPnc 23
#define CAPns 24
#define CAPos 25
#define CAPpt 26
#define CAPul 27
#define CAPxb 28
#define CAPxn 29
#define CAPxo 30
#define CAPxr 31
#define CAPxs 32
#define CAPxt 33
#define CAPxv 34
#define CAPxx 35
#define NFLGS 36		/* Number of flag capabilities */
#define CAPco 0			/* Numeric capabilities */
#define CAPdB 1
#define CAPdC 2
#define CAPdF 3
#define CAPdN 4
#define CAPdT 5
#define CAPdV 6
#define CAPit 7
#define CAPkn 8
#define CAPli 9
#define CAPlm 10
#define CAPpb 11
#define CAPsg 12
#define CAPss 13
#define CAPtw 14
#define CAPug 15
#define CAPvt 16
#define CAPws 17
#define NNUMS 18		/* Number of numeric capabilities */
#define CAPAL 0			/* String capabilities */
#define CAPCC 1               
#define CAPCM 2
#define CAPDC 3
#define CAPDL 4
#define CAPDO 5
#define CAPIC 6
#define CAPK1 7
#define CAPK2 8
#define CAPK3 9
#define CAPK4 10
#define CAPK5 11
#define CAPLE 12
#define CAPRI 13
#define CAPSF 14
#define CAPSR 15
#define CAPUP 16
#define CAPae 17
#define CAPal 18
#define CAPas 19
#define CAPbc 20
#define CAPbl 21
#define CAPbt 22
#define CAPcd 23
#define CAPce 24
#define CAPch 25
#define CAPcl 26
#define CAPcm 27
#define CAPcr 28
#define CAPcs 29
#define CAPct 30
#define CAPcv 31
#define CAPdc 32
#define CAPdl 33
#define CAPdm 34
#define CAPdo 35
#define CAPds 36
#define CAPec 37
#define CAPed 38
#define CAPei 39
#define CAPes 40
#define CAPff 41
#define CAPfs 42
#define CAPge 43
#define CAPgo 44
#define CAPgt 45
#define CAPhd 46
#define CAPho 47
#define CAPhu 48
#define CAPi1 49
#define CAPi2 50
#define CAPi3 51
#define CAPiP 52
#define CAPic 53
#define CAPif 54
#define CAPim 55
#define CAPip 56
#define CAPis 57
#define CAPk0 58
#define CAPk1 59
#define CAPk2 60
#define CAPk3 61
#define CAPk4 62
#define CAPk5 63
#define CAPk6 64
#define CAPk7 65
#define CAPk8 66
#define CAPk9 67
#define CAPkA 68
#define CAPkC 69
#define CAPkD 70
#define CAPkE 71
#define CAPkF 72
#define CAPkH 73
#define CAPkI 74
#define CAPkL 75
#define CAPkM 76
#define CAPkN 77
#define CAPkP 78
#define CAPkR 79
#define CAPkS 80
#define CAPkT 81
#define CAPka 82
#define CAPkb 83
#define CAPkd 84
#define CAPke 85
#define CAPkh 86
#define CAPkl 87
#define CAPko 88
#define CAPkr 89
#define CAPks 90
#define CAPkt 91
#define CAPku 92
#define CAPl0 93
#define CAPl1 94
#define CAPl2 95
#define CAPl3 96
#define CAPl4 97
#define CAPl5 98
#define CAPl6 99
#define CAPl7 100
#define CAPl8 101
#define CAPl9 102
#define CAPle 103
#define CAPll 104
#define CAPma 105
#define CAPmb 106
#define CAPmd 107
#define CAPme 108
#define CAPmh 109
#define CAPmk 110
#define CAPml 111
#define CAPmm 112
#define CAPmo 113
#define CAPmp 114
#define CAPmr 115
#define CAPmu 116
#define CAPnd 117
#define CAPnl 118
#define CAPnw 119
#define CAPpO 120
#define CAPpc 121
#define CAPpf 122
#define CAPpk 123
#define CAPpl 124
#define CAPpo 125
#define CAPps 126
#define CAPpx 127
#define CAPr1 128
#define CAPr2 129
#define CAPr3 130
#define CAPrc 131
#define CAPrf 132
#define CAPri 133
#define CAPrp 134
#define CAPrs 135
#define CAPsa 136
#define CAPsc 137
#define CAPse 138
#define CAPsf 139
#define CAPso 140
#define CAPsr 141
#define CAPst 142
#define CAPta 143
#define CAPtc 144
#define CAPte 145
#define CAPti 146
#define CAPts 147
#define CAPuc 148
#define CAPue 149
#define CAPup 150
#define CAPus 151
#define CAPvb 152
#define CAPve 153
#define CAPvi 154
#define CAPvs 155
#define CAPwi 156
#define NSTRS 157		/* Number of string capabilities */

#define ENTRYLEN 1024
#define TERMPATH ".termcap /etc/termcap"

struct cap
 {
 I flgs[NFLGS];
 I nums[NNUMS];
 C *strs[NSTRS];
 C tbuf[ENTRYLEN];
 };

/* CAP *getcap(C *s);  Get CAP entry for terminal type name given in s.
   If s is zero, uses TERM environment variable.  Returns 0 if there was any
   error. */
CAP *getcap();

/* V texec(C *str,V (*out)(V *ptr,C c),V *outptr,
              C *pad,I div,I l,I x,I y);

   Execute a termcap string capability.
   
   'str' is the string to execute
   
   'out' is a function with each character to send to the terminal

   'outptr' is value passed as first argument to 'out'
   
   'pad' is a string containing the pad character to use.  If 'pad'==0,
   zero is used as the pad character.
   
   'div' is the number of 10ths of milliseconds it takes to send each
   character out at the current baud rate.  This is used to determine the
   number of padding characters to send.

   'l' is the number of lines effected by this string.  For example, if you
   use the clear to end of screen capability, the number of lines between
   the current cursor position and the end of the screen should be
   given here.

   'x' and 'y' are the arguments for the string.
*/
V texec();


/* I tcost(C *str,C *pad,I div,I l,I x,I y);
   Return cost in number of characters which need to be sent required
   to execute a termcap string capability.
   
   'str' is the string to execute
   
   'pad' is a string containing the pad character to use.  If 'pad'==0,
   zero is used as the pad character.
   
   'div' is the number of 10ths of milliseconds it takes to send each
   character out at the current baud rate.  This is used to determine the
   amount of padding characters to send.

   'l' is the number of lines effected by this string.  I.E., if you
   use the clear to end of screen capability, the number of lines between
   the current cursor position and the end of the screen should be
   given here.

   'x' and 'y' are the arguments for the string.
*/
I tcost();

/* C *tcompile(C *str,I x,I y,I *l);

   Compile a string capability.  Returns a pointer to a static area of memory
   containing the zero-terminated compiled string.  You must copy this string
   elsewhere before calling tcompile again.

   The length of the string is placed in the integer at l.
*/
C *tcompile();

/* V tshow(C *str);
   Print a compiled string on stdout:  Shows control characters in a nice way
 */
V tshow();

/* V rmcap(CAP *);  Eliminate a termcap entry returned by getcap */
V rmcap();
